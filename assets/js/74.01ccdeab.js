(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{455:function(s,t,a){"use strict";a.r(t);var n=a(22),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vscode调试webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode调试webpack"}},[s._v("#")]),s._v(" vscode调试webpack")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("Webpack是前端开发的常用工具。")]),s._v(" "),a("p",[s._v("有时候不可避免要自己写一些webpack插件，是代码就会有bug，这时候我们就需要进行调试。或者是我们学习webpack的时候希望了解webpack的打包过程。")]),s._v(" "),a("p",[s._v("本文就向大家介绍如何用 VSCode 调试 webpack。")]),s._v(" "),a("p",[s._v("首先我们需要准备好一个webpack搭起来框架。")]),s._v(" "),a("h2",{attrs:{id:"配置-vscode-调试功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-vscode-调试功能"}},[s._v("#")]),s._v(" 配置 VSCode 调试功能")]),s._v(" "),a("p",[s._v("通常情况下，我们会在 package.json script 里配 "),a("code",[s._v('"dev": "webpack --config webpack.config.js"')]),s._v("，然后执行 "),a("code",[s._v("npm run dev")]),s._v(" 来起服务。")]),s._v(" "),a("p",[s._v("但是如果要用 vscode 调试的话，就需要新加脚本"),a("code",[s._v('"debugger": "node --inspect-brk=8080 ./node_modules/.bin/webpack --config webpack.config.js"')]),s._v("。"),a("code",[s._v("--inspect-brk")]),s._v(" 是调试端口号，传给 node 进程后，node 就能对外暴露调试端口，进而在 VSCode 里调试。可参考"),a("a",{attrs:{href:"https://nodejs.org/zh-cn/docs/guides/debugging-getting-started/",target:"_blank",rel:"noopener noreferrer"}},[s._v("node调试指南"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("然后我们修改一下 .vscode/launch.json 文件，配置调试参数。")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 IntelliSense 了解相关属性。")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 悬停以查看现有属性的描述。")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"configurations"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"request"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"launch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"debugger"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"runtimeExecutable"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"runtimeArgs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"run"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"debugger"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("有几个参数比较重要：")]),s._v(" "),a("p",[a("code",[s._v("runtimeExecutable")]),s._v(": 程序执行器，就是启动程序的脚本。默认是 node，但我们这里用 "),a("code",[s._v("npm")]),s._v(" 来启动 webpack debugger 指令，所以这里要配 "),a("code",[s._v("npm")])]),s._v(" "),a("p",[a("code",[s._v("runtimeArgs")]),s._v(": 传递给程序执行器的参数")]),s._v(" "),a("p",[a("code",[s._v("port")]),s._v(": node 调试端口号，和刚才在 package.json script 中配的 "),a("code",[s._v("--inspect-brk")]),s._v(" 保持一致")])]),s._v(" "),a("h2",{attrs:{id:"启动调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动调试"}},[s._v("#")]),s._v(" 启动调试")]),s._v(" "),a("p",[s._v("package.json script 和 .vscode/launch.json 都配置妥当后，我们在 webpack.config.js 里打一个断点，然后进入调试模式。\n"),a("img",{attrs:{src:s.$withBase("/img/zaji/08-1.png")}})])])}),[],!1,null,null,null);t.default=e.exports}}]);